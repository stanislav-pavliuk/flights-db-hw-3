<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Flights Management - Catering Report</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

<div class="container px-10">
    <div class="container my-5">
        <h1 class="mb-4 text-center">Mapping of Loaded Meals and Beverages to Passengers</h1>

        <hr/>

        <div class="row">
            <div class="col-md-6">
                <p><strong>Airline:</strong> <span th:text="${flight.airlineCode}"></span></p>
                <p><strong>Flight No:</strong> <span th:text="${flight.no}"></span></p>
                <p><strong>From:</strong> <span th:text="${flight.fromAirportCode}"></span></p>
                <p><strong>Departure Date:</strong> <span th:text="${flight.departureDate}"></span></p>
                <p><strong>Departure Time:</strong> <span th:text="${flight.departureTime}"></span></p>
            </div>
            <div class="col-md-6">
                <p><strong>Aircraft:</strong> <span th:text="${flight.aircraftNumber}"></span></p>
                <p><strong>To:</strong> <span th:text="${flight.toAirportCode}"></span></p>
                <p><strong>Arrival Date:</strong> <span th:text="${flight.arrivalDate}"></span></p>
                <p><strong>Arrival Time:</strong> <span th:text="${flight.arrivalTime}"></span></p>
                <p><strong>Duration:</strong> <span th:text="${flight.flightDuration.toHours()} + ' Hours ' + ${flight.flightDuration.toMinutesPart()} + ' Minutes'"></span></p>
            </div>
        </div>

        <hr/>

        <div class="mb-5">
            <h3>Passengers and Their Meals</h3>
            <table class="table table-bordered table-striped">
                <thead class="table-light">
                <tr>
                    <th colspan="3">Passenger</th>
                    <th colspan="2">Pre-Ordered</th>
                    <th colspan="2">Will be served</th>
                </tr>
                <tr>
                    <th>Row Seat No</th>
                    <th>Travel Class</th>
                    <th>Passenger Name</th>
                    <th>Meal Type</th>
                    <th>Beverage</th>

                    <th>Meal Type</th>
                    <th>Beverage</th>
                </tr>
                </thead>

                <thead>
                <tr>
                    <td colspan="9">First Class</td>
                </tr>
                </thead>

                <tbody>
                <!--@thymesVar id="passenger" type="org.example.flights.passenger.Passenger"-->
                <tr th:each="passenger : ${passengersByClass[T(org.example.flights.passenger.tclass.TravelClass).F]}">
                    <td th:text="${#numbers.formatInteger(passenger.seatRow, 3)}">Seat No</td>
                    <td th:text="${passenger.flightClass}">Travel Class</td>
                    <td th:text="${passenger.fullName}">Passenger Name</td>

                    <td th:text="${passenger.formatPreorderedMeals() ?: '-'}"></td>
                    <td th:text="${passenger.formatPreorderedBeverages() ?: '-'}"></td>
                    <td th:text="${passenger.formatMealsToBeServed() ?: '-'}"></td>
                    <td th:text="${passenger.formatBeveragesToBeServed() ?: '-'}"></td>
                </tr>
                </tbody>
                <thead class="table-light">
                <tr>
                    <td colspan="9">Business Class</td>
                </tr>
                </thead>
                <tbody>
                <tr th:each="passenger : ${passengersByClass[T(org.example.flights.passenger.tclass.TravelClass).B]}">
                    <td th:text="${#numbers.formatInteger(passenger.seatRow, 3)}">Seat No</td>
                    <td th:text="${passenger.flightClass}">Travel Class</td>
                    <td th:text="${passenger.fullName}">Passenger Name</td>

                    <td th:text="${passenger.formatPreorderedMeals() ?: '-'}"></td>
                    <td th:text="${passenger.formatPreorderedBeverages() ?: '-'}"></td>
                    <td th:text="${passenger.formatMealsToBeServed() ?: '-'}"></td>
                    <td th:text="${passenger.formatBeveragesToBeServed() ?: '-'}"></td>
                </tr>
                </tbody>
                <thead class="table-light">
                <tr>
                    <td colspan="9">Economy Class</td>
                </tr>
                </thead>
                <tbody>
                    <tr th:each="passenger : ${passengersByClass[T(org.example.flights.passenger.tclass.TravelClass).E]}">
                        <td th:text="${#numbers.formatInteger(passenger.seatRow, 3)}">Seat No</td>
                        <td th:text="${passenger.flightClass}">Travel Class</td>
                        <td th:text="${passenger.fullName}">Passenger Name</td>

                        <td th:text="${passenger.formatPreorderedMeals() ?: '-'}"></td>
                        <td th:text="${passenger.formatPreorderedBeverages() ?: '-'}"></td>
                        <td th:text="${passenger.formatMealsToBeServed() ?: '-'}"></td>
                        <td th:text="${passenger.formatBeveragesToBeServed() ?: '-'}"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Unused Meals -->
        <div class="mb-4">
            <h3>Unused Meals</h3>
            <table class="table table-bordered table-striped">
                <thead class="table-light">
                <tr>
                    <th>Meal Type</th>
                    <th>Total Quantity</th>
                </tr>
                </thead>
                <tbody>
                    <tr th:each="meal : ${unusedMeals}">
                        <td th:text="${meal.name}"></td>
                        <td th:text="${meal.quantity}"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Unused Beverages -->
        <div>
            <h3>Unused Beverages</h3>
            <table class="table table-bordered table-striped">
                <thead class="table-light">
                <tr>
                    <th>Beverage Type</th>
                    <th>Quantity</th>
                </tr>
                </thead>
                <tbody>
                    <tr th:each="beverage : ${unusedBeverages}">
                        <td th:text="${beverage.name}"></td>
                        <td th:text="${beverage.quantity}"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>


</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

</body>
</html>
<body>
